<html>
<head>
<script type="text/javascript">
function toBinary(digits, num)
{
	var text = new Array(), i, j;

//	var digits = Math.floor(Math.log(num)/Math.log(2)) + 1;

//	document.getElementById("output").innerHTML += "digits = " + digits + "<br>";
	
	for (i = digits-1; i >= 0; i--)
	{
		var div = Math.pow(2, i);
		if (num >= div)
		{
			text[(digits-1)-i] = 1;
			num -= div;
		}
		else
			text[(digits-1)-i] = 0;
	}

	return text;
}

function nextSub(set, start)
{
	var arr = new Array();
	var max = Math.pow(2, set.length)-1;
//	document.getElementById("output").innerHTML += "max = " + max + "<br>";
	
//	document.getElementById("output").innerHTML += "start = " + start + "<br>";
//	var setBin = new Array(set.length);
//	var startBin = toBinary(start);
//	document.getElementById("output").innerHTML += "startBin = " + startBin + "<br>";
	if (start+1 <= max)
		startBin = toBinary(set.length, start+1);
	else 
		startBin = null;
		
//	document.getElementById("output").innerHTML += "now, startBin = " + startBin + "<br>";
	
	for (var i = 0; i < startBin.length; i++)
	{
		if (startBin[i] == 1)
			arr[arr.length] = set[i];
	}
	if (startBin == null)
		arr = null;
	
//	document.getElementById("output").innerHTML += setBin + "<br>";
	
	return arr;
}
</script>
</head>
<body>
<p>
<TEXTAREA style="WIDTH: 350px; HEIGHT: 150px" id=list cols=41 rows=6 name=list></TEXTAREA>
</p>
<p name="output" id="output">
</p>
<script type="text/javascript">
var arr = new Array();
arr[0] = 1;
arr[1] = 2;
arr[2] = 3;
arr[3] = 4;
var i = 0;
var next_arr;
var text = "";
do
{
//	alert("i = " + i);
	next_arr = nextSub(arr, i);
	document.getElementById("output").innerHTML += "nextSub([" + arr + "], " + i + ") = " + next_arr + "<br>";
	i++;
/*	
	alert("i = " + i);
	next_arr = nextSub(arr, i);
	document.getElementById("output").innerHTML += "nextSub([" + arr + "], " + i + ") = " + next_arr + "<br>";
	i++;

	alert("i = " + i);
	next_arr = nextSub(arr, i);
	document.getElementById("output").innerHTML += "nextSub([" + arr + "], " + i + ") = " + next_arr + "<br>";
	i++;

	alert("i = " + i);
	next_arr = nextSub(arr, i);
	document.getElementById("output").innerHTML += "nextSub([" + arr + "], " + i + ") = " + next_arr + "<br>";
	i++;

	alert("i = " + i);
	next_arr = nextSub(arr, i);
	document.getElementById("output").innerHTML += "nextSub([" + arr + "], " + i + ") = " + next_arr + "<br>";
	i++;
	
	alert("i = " + i);
	next_arr = nextSub(arr, i);
	document.getElementById("output").innerHTML += "nextSub([" + arr + "], " + i + ") = " + next_arr + "<br>";
	i++;

	alert("i = " + i);
	next_arr = nextSub(arr, i);
	document.getElementById("output").innerHTML += "nextSub([" + arr + "], " + i + ") = " + next_arr + "<br>";
	i++;

	alert("i = " + i);
	next_arr = nextSub(arr, i);
	document.getElementById("output").innerHTML += "nextSub([" + arr + "], " + i + ") = " + next_arr + "<br>";
	i++;
*/	
}
while(next_arr != null);

document.getElementById("output").innerHTML += text;
</script>
</body>
</html>